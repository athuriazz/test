<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö‡∏ä‡∏∏‡∏î</title>
    <style>
        body { font-family: sans-serif; background: #f5f5f5; margin: 0; }
        .container { display: flex; padding: 10px; gap: 20px; }

        /* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏ */
        .periodic-table {
            width: 300px;
            max-height: 95vh;
            overflow: auto;
            border: 1px solid #ccc;
            border-radius: 8px;
            background: #fff;
            padding: 10px;
            position: sticky;
            top: 10px;
        }
        .periodic-table img {
            width: 100%;
            display: block;
            border-radius: 4px;
        }

        /* ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ */
        .tool-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .calculator-container, .image-container {
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background: #fff;
        }
        h1, h2 { margin: 0 0 10px 0; text-align: center; }
        label { display: block; margin-top: 10px; }
        input, select, button { margin-top: 5px; width: 100%; padding: 8px; box-sizing: border-box; }
        .result-box { margin-top: 15px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; background: #f9f9f9; }
        .image-container img { width: 100%; border-radius: 8px; }
        .set { border: 1px dotted #ccc; padding: 10px; margin-bottom: 5px; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="periodic-table">
            <h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏</h2>
            <img src="https://upload.wikimedia.org/wikipedia/commons/2/2e/Simple_Periodic_Table_Chart-en.svg" alt="Periodic Table">
        </div>

        <div class="tool-container">

            <div class="calculator-container">
                <h1>üî¨ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏°‡∏µ</h1>
                
                <label for="mode-selector">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î:</label>
                <select id="mode-selector" onchange="updateMode()">
                    <option value="mol">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì mol</option>
                    <option value="dilution">‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏∑‡∏≠‡∏à‡∏≤‡∏á‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢</option>
                    <option value="concentration">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢</option>
                </select>
                
                <div id="mode-fields"></div>
                <button onclick="calculate()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
                
                <div class="result-box">
                    <h2>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h2>
                    <p id="result-display">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
                </div>
            </div>

            <div class="image-container">
                <h1>‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</h1>
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2e/Simple_Periodic_Table_Chart-en.svg" alt="Periodic Table">
            </div>

        </div>
    </div>

    <script>
        const modeFields = document.getElementById("mode-fields");
        const resultDisplay = document.getElementById("result-display");
        const AVOGADRO = 6.02e+23; // ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà Avogadro's number

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î ---
        function updateMode() {
            let mode = document.getElementById("mode-selector").value;
            let html = "";

            if (mode === "mol") {
                html = `
                    <label for="formula-selector">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏π‡∏ï‡∏£ mol:</label>
                    <select id="formula-selector" onchange="updateMolInputs()">
                        <option value="mol1">mol = g / M.W.</option>
                        <option value="mol2">mol = Vdm¬≥ / 22.4 (‡∏ó‡∏µ‡πà STP)</option>
                        <option value="mol3">mol = Vcm¬≥ / 22400 (‡∏ó‡∏µ‡πà STP)</option>
                        <option value="mol4">mol = M¬∑Vcm¬≥ / 1000</option>
                        <option value="mol5">mol = M¬∑Vdm¬≥</option>
                        </select>
                    <div id="mol-inputs"></div>
                `;
            } else if (mode === "dilution") {
                html = `
                    <label for="formula-selector">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏∑‡∏≠‡∏à‡∏≤‡∏á:</label>
                    <select id="formula-selector" onchange="updateDilutionInputs()">
                        <option value="m1v1_m2v2">M1V1 = M2V2</option>
                        <option value="multi_dilution">M‡∏£‡∏ß‡∏°V‡∏£‡∏ß‡∏° = M1V1 + M2V2 + ...</option>
                    </select>
                    <div id="dilution-inputs"></div>
                `;
            } else if (mode === "concentration") {
                 html = `
                    <label for="concentration-selector">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô:</label>
                    <select id="concentration-selector" onchange="updateConcentrationInputs()">
                        <option value="ww">% w/w (‡∏°‡∏ß‡∏•‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏Å / ‡∏°‡∏ß‡∏•‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢)</option>
                        <option value="vv">% v/v (‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏Å / ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢)</option>
                        <option value="wv">% w/v (‡∏°‡∏ß‡∏•‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏Å / ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢)</option>
                    </select>
                    <div id="concentration-inputs"></div>
                `;
            }
            
            modeFields.innerHTML = html;
            if (mode === "mol") updateMolInputs();
            else if (mode === "dilution") updateDilutionInputs();
            else if (mode === "concentration") updateConcentrationInputs();
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Input ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö mol ---
        function updateMolInputs() {
            let formula = document.getElementById("formula-selector").value;
            let html = "";
            let inputDiv = document.getElementById("mol-inputs");
            
            if (formula === "mol1") html = `<label>‡∏Å‡∏£‡∏±‡∏° (g): <input type="number" id="g"></label><label>M.W.: <input type="number" id="mw"></label>`;
            else if (formula === "mol2") html = `<label>Vdm¬≥: <input type="number" id="vdm_mol2"></label>`;
            else if (formula === "mol3") html = `<label>Vcm¬≥: <input type="number" id="vcm_mol3"></label>`;
            else if (formula === "mol4") html = `<label>M: <input type="number" id="M_mol4"></label><label>Vcm¬≥: <input type="number" id="vcm_mol4"></label>`;
            else if (formula === "mol5") html = `<label>M: <input type="number" id="M_mol5"></label><label>Vdm¬≥: <input type="number" id="vdm_mol5"></label>`;

            inputDiv.innerHTML = html;
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Input ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dilution ---
        function updateDilutionInputs() {
            let formula = document.getElementById("formula-selector").value;
            let html = "";
            let inputDiv = document.getElementById("dilution-inputs");
            
            if (formula === "m1v1_m2v2") {
                html = `<label>M1: <input type="number" id="M1"></label><label>V1: <input type="number" id="V1"></label>
                        <label>M2: <input type="number" id="M2"></label><label>V2: <input type="number" id="V2"></label>
                        <p>‚ö° ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á 1 ‡∏ä‡πà‡∏≠‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>`;
            } else if (formula === "multi_dilution") {
                html = `<div id="multi-container"><div class="set"><label>M1: <input type="number" class="M"></label><label>V1: <input type="number" class="V"></label></div></div>
                        <button type="button" onclick="addSet()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∏‡∏î</button><label>V‡∏£‡∏ß‡∏°: <input type="number" id="Vsum"></label>`;
            }
            inputDiv.innerHTML = html;
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Input ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Concentration ---
        function updateConcentrationInputs() {
            let formula = document.getElementById("concentration-selector").value;
            let html = "";
            const inputDiv = document.getElementById("concentration-inputs");

            if (formula === "ww") {
                html = `<label>‡∏°‡∏ß‡∏•‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏Å‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (g): <input type="number" id="solute_g_ww"></label>
                        <label>‡∏°‡∏ß‡∏•‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (g): <input type="number" id="solution_g_ww"></label>`;
            } else if (formula === "vv") {
                html = `<label>‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏Å‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (mL): <input type="number" id="solute_ml_vv"></label>
                        <label>‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (mL): <input type="number" id="solution_ml_vv"></label>`;
            } else if (formula === "wv") {
                html = `<label>‡∏°‡∏ß‡∏•‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏Å‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (g): <input type="number" id="solute_g_wv"></label>
                        <label>‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (mL): <input type="number" id="solution_ml_wv"></label>`;
            }
            inputDiv.innerHTML = html;
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∏‡∏î M/V ‡πÉ‡∏ô Multi-Dilution ---
        function addSet() {
            const container = document.getElementById("multi-container");
            const div = document.createElement("div");
            div.className = "set";
            
            // ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß
            div.innerHTML = `<label>M: <input type="number" class="M"></label><label>V: <input type="number" class="V"></label>`;
            
            container.appendChild(div);
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏•‡∏±‡∏Å ---
        function calculate() {
            let mode = document.getElementById("mode-selector").value;
            let result = "";

            if (mode === "mol") {
                let formula = document.getElementById("formula-selector").value;
                let mol = NaN;
                
                if (formula === "mol1") { 
                    let g=parseFloat(document.getElementById("g").value), mw=parseFloat(document.getElementById("mw").value); 
                    if(!isNaN(g)&&!isNaN(mw)&&mw!==0) mol=g/mw; 
                } else if (formula==="mol2"){ 
                    let vdm=parseFloat(document.getElementById("vdm_mol2").value); 
                    if(!isNaN(vdm)) mol=vdm/22.4;
                } else if (formula==="mol3"){ 
                    let vcm=parseFloat(document.getElementById("vcm_mol3").value); 
                    if(!isNaN(vcm)) mol=vcm/22400;
                } else if (formula==="mol4"){ 
                    let M=parseFloat(document.getElementById("M_mol4").value), vcm=parseFloat(document.getElementById("vcm_mol4").value); 
                    if(!isNaN(M)&&!isNaN(vcm)) mol=(M*vcm)/1000;
                } else if (formula==="mol5"){ 
                    let M=parseFloat(document.getElementById("M_mol5").value), vdm=parseFloat(document.getElementById("vdm_mol5").value); 
                    if(!isNaN(M)&&!isNaN(vdm)) mol=M*vdm;
                } 
                // ‡∏™‡∏π‡∏ï‡∏£ mol = N / (6.02 x 10^23) ‡∏ñ‡∏π‡∏Å‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß

                result = isNaN(mol) ? "‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö" : "mol = "+mol.toFixed(6);

            } else if(mode==="dilution"){
                let formula=document.getElementById("formula-selector").value;
                
                if(formula==="m1v1_m2v2"){
                    let M1=parseFloat(document.getElementById("M1").value),V1=parseFloat(document.getElementById("V1").value),M2=parseFloat(document.getElementById("M2").value),V2=parseFloat(document.getElementById("V2").value);
                    let emptyCount=[M1,V1,M2,V2].filter(v=>isNaN(v)).length;
                    
                    if(emptyCount!==1) result="‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ 1 ‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ñ‡πà‡∏≤";
                    else { 
                        let unknownValue;
                        if(isNaN(M1)) unknownValue = (M2*V2)/V1; 
                        else if(isNaN(V1)) unknownValue = (M2*V2)/M1; 
                        else if(isNaN(M2)) unknownValue = (M1*V1)/V2; 
                        else if(isNaN(V2)) unknownValue = (M1*V1)/M2;
                        
                        if (isNaN(M1)) M1 = unknownValue;
                        if (isNaN(V1)) V1 = unknownValue;
                        if (isNaN(M2)) M2 = unknownValue;
                        if (isNaN(V2)) V2 = unknownValue;

                        result=`‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: M1=${M1.toFixed(4)}, V1=${V1.toFixed(4)}, M2=${M2.toFixed(4)}, V2=${V2.toFixed(4)}`; 
                    }
                } else if(formula==="multi_dilution"){
                    let M=[...document.querySelectorAll("#multi-container .M")].map(e=>parseFloat(e.value)); 
                    let V=[...document.querySelectorAll("#multi-container .V")].map(e=>parseFloat(e.value)); 
                    let Vsum=parseFloat(document.getElementById("Vsum").value);
                    
                    if(M.some(isNaN)||V.some(isNaN)||isNaN(Vsum)) result="‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á";
                    else { 
                        let sumMV=0; 
                        for(let i=0;i<M.length;i++) sumMV+=M[i]*V[i]; 
                        let Mfinal=sumMV/Vsum; 
                        result=`M‡∏£‡∏ß‡∏° = ${Mfinal.toFixed(6)}`; 
                    }
                }
            } else if(mode==="concentration"){
                let formula=document.getElementById("concentration-selector").value;
                let concentration = NaN;
                let error = false;
                
                if(formula==="ww"){
                    let solute_g=parseFloat(document.getElementById("solute_g_ww").value);
                    let solution_g=parseFloat(document.getElementById("solution_g_ww").value);
                    if(!isNaN(solute_g)&&!isNaN(solution_g)&&solution_g!==0) {
                        concentration = (solute_g / solution_g) * 100;
                        result = `% w/w = ${concentration.toFixed(4)} %`;
                    } else error = true;
                } else if(formula==="vv"){
                    let solute_ml=parseFloat(document.getElementById("solute_ml_vv").value);
                    let solution_ml=parseFloat(document.getElementById("solution_ml_vv").value);
                    if(!isNaN(solute_ml)&&!isNaN(solution_ml)&&solution_ml!==0) {
                        concentration = (solute_ml / solution_ml) * 100;
                        result = `% v/v = ${concentration.toFixed(4)} %`;
                    } else error = true;
                } else if(formula==="wv"){
                    let solute_g=parseFloat(document.getElementById("solute_g_wv").value);
                    let solution_ml=parseFloat(document.getElementById("solution_ml_wv").value);
                    if(!isNaN(solute_g)&&!isNaN(solution_ml)&&solution_ml!==0) {
                        concentration = (solute_g / solution_ml) * 100;
                        result = `% w/v = ${concentration.toFixed(4)} %`;
                    } else error = true;
                }

                if (error || isNaN(concentration)) {
                    result = "‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
                }
            }

            resultDisplay.textContent=result;
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
        updateMode();
    </script>
</body>
</html>
